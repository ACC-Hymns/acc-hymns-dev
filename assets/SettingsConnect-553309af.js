import{d as xe,r,O as Se,c as Ne,ae as Be,ai as K,a6 as W,k as t,l,t as m,m as e,A as k,F as f,s as w,q as n,Z as Fe,a5 as Oe,S as z,y as ze,v as Te,x as o,z as ce,_ as Ae}from"./index-83306a13.js";import{_ as De}from"./chevron-back-outline-3b18af6c.js";import{_ as Q}from"./chevron-forward-outline-4fe420c1.js";import{u as Ee}from"./navigator-94a9906b.js";import{U as T,v as Ie,b as ue,r as A,g as Ve,s as Z,c as Le,d as Re}from"./broadcast-eaebfacd.js";const Ue="/acchymns-dev/assets/ellipse.svg",Pe="/acchymns-dev/assets/backspace.svg",je={class:"menu"},qe={class:"title"},Ge={class:"title--center"},Me={key:0,class:"login-container"},He={class:"login-instructions"},Je=["src"],Ke=l("p",null,"Please enter 4-digit PIN",-1),We={key:0,class:"ionicon pin-dot",src:Ue},Ze={class:"keypad"},Qe=["onClick"],Xe={key:0},Ye={key:1},es=l("h4",null,"0",-1),ss=[es],ts={key:2,class:"backspace"},os=l("img",{class:"ionicon keyicon",src:Pe},null,-1),as=[os],ls={key:3},ns={key:1,class:"main-content"},is={key:0},cs={class:"center-container"},us=l("h3",null,"Reading Type",-1),rs={key:0,class:"biblebook space"},bs={key:1,class:"biblebook space"},_s={key:2,class:"biblebook space"},ds={key:3,class:"biblebook space"},vs=l("h3",null,"Book",-1),ks={class:"book-selector"},hs={key:0,class:"biblebook space"},ps={key:1,class:"biblebook space"},ys={key:2,class:"biblebook space"},ms={key:3,class:"biblebook space"},fs={class:"book-selector"},gs={key:0,class:"biblebook space"},ws={key:1,class:"biblebook space"},Cs={key:2,class:"biblebook space"},$s={key:3,class:"biblebook space"},xs=l("h3",null,"Chapter",-1),Ss={class:"number-selector"},Ns={key:0,class:"biblebook space"},Bs={key:1,class:"biblebook space"},Fs={key:2,class:"biblebook space"},Os={key:3,class:"biblebook space"},zs={key:4,class:"biblebook space"},Ts={key:5,class:"biblebook space"},As={key:6,class:"biblebook space"},Ds={key:7,class:"biblebook space"},Es=l("h3",null,"Start Verse",-1),Is={class:"number-selector"},Vs={key:0,class:"biblebook space"},Ls={key:1,class:"biblebook space"},Rs={key:2,class:"biblebook space"},Us={key:3,class:"biblebook space"},Ps={key:4,class:"biblebook space"},js={key:5,class:"biblebook space"},qs={key:6,class:"biblebook space"},Gs={key:7,class:"biblebook space"},Ms={key:0},Hs={key:1,class:"number-selector"},Js={key:0,class:"biblebook space"},Ks={key:1,class:"biblebook space"},Ws={key:2,class:"biblebook space"},Zs={key:3,class:"biblebook space"},Qs={key:4,class:"biblebook space"},Xs={key:5,class:"biblebook space"},Ys={key:6,class:"biblebook space"},et={key:7,class:"biblebook space"},st={key:2},tt={key:3,class:"number-selector"},ot={key:0,class:"biblebook space"},at={key:1,class:"biblebook space"},lt={key:2,class:"biblebook space"},nt={key:3,class:"biblebook space"},it={key:4,class:"biblebook space"},ct={key:5,class:"biblebook space"},ut={key:6,class:"biblebook space"},rt={key:7,class:"biblebook space"},bt={key:1},_t={class:"center-container"},dt=l("h3",null,"Hymnal",-1),vt={key:0,class:"biblebook space"},kt={key:1,class:"biblebook space"},ht=["onClick"],pt={key:2,class:"biblebook space"},yt={key:3,class:"biblebook space"},mt={class:"center-container"},ft=l("h3",null,"Song Number",-1),gt=l("h3",null,"Verses",-1),wt={class:"verse-list-wide"},Ct=l("div",null,null,-1),$t=l("div",null,null,-1),xt={class:"verse-list-wide"},St=["onClick"],Nt=["disabled"],Bt={key:2,class:"center-container"},Ft=l("h1",{style:{"margin-bottom":"0px"}},"Authorized",-1),Ot={style:{"margin-top":"0px"}},zt={class:"settings width-100"},Tt={key:0,href:"/broadcast",class:"settings-option"},At=l("span",null,"Open Output Display",-1),Dt=l("img",{class:"entrypoint ionicon",src:Q},null,-1),Et=[At,Dt],It=l("span",null,"Set Song Number",-1),Vt=l("img",{class:"entrypoint ionicon",src:Q},null,-1),Lt=[It,Vt],Rt=l("span",null,"Set Bible Reading",-1),Ut=l("img",{class:"entrypoint ionicon",src:Q},null,-1),Pt=[Rt,Ut],jt=l("span",null,"Clear Screen",-1),qt=[jt],Gt=l("span",null,"Log Out",-1),Mt=[Gt],Ht={key:2,class:"lds-ring-container"},Jt=l("div",{class:"lds-ring"},[l("div"),l("div"),l("div"),l("div")],-1),Kt=[Jt],so=xe({__name:"SettingsConnect",setup(Wt){const{back:re}=Ee(),V=r(!1),p=r(""),D=r(T.None);let c=r(Se.getPlatform()),P=r(!1),C=r("LOADING"),L=r(),X=r([]),x=r(),R=r(0),E=r([]);async function be(i){return await Re.post("https://iahifuumb7zasmzuv5xqpmi7fu0pwtkt.lambda-url.us-east-2.on.aws/",{code:i})}async function _e(i){let a=i.data;if(i.status==200){await W.set({key:"broadcasting_auth_token",value:a.token}),D.value=T.Authorized;let s=await ue(A());X.value=Object.values(s),C.value=a.church_id,await j()}else console.log(i.data),setTimeout(()=>{P.value=!1,p.value=""},400)}async function j(){let i=(await Ve(A(),C.value)).Item;L.value&&(L.value.value=i.BG_COLOR.S)}async function de(){await Z(A(),C.value,"","",[-1],"")}async function q(){await W.set({key:"broadcasting_auth_token",value:""}),D.value=T.Unauthorized,p.value="",V.value=!1}function ve(){p.value.length>0&&(p.value=p.value.substring(0,p.value.length-1))}function Y(i){p.value+=i}async function G(){N.value||I.value?(N.value=!1,I.value=!1,await j()):re()}async function ke(){if(!L.value)return;let i=L.value.value;i==""&&(i="#FFFFFF"),i[0]=="#"&&await Le(A(),C.value,i)}async function he(i){if(i!=10&&(R.value=i,i==12?ve():i==11?Y(0):Y(i),!(p.value.length>4)&&p.value.length==4)){let a=await be(p.value);V.value=a.status==200,V.value||(P.value=!0),setTimeout(()=>{_e(a)},500)}}Ne(async()=>{C.value="...",x.value=await(await fetch("/acchymns-dev/NKJV.bible.json",{})).json()||{version:"",books:[]};let i=await Be();E.value=i.filter(s=>s.status==K.DOWNLOADED||s.status==K.IMPORTED||s.status==K.BUNDLED),console.log(E.value);let a=await W.get({key:"broadcasting_auth_token"});for(let[s,u]of x.value.books.entries())s>38?se.value.push(u):ee.value.push(u);if(te(),U(),a.value!=""&&a.value!=null){let s=await Ie(a.value);if(s.status!=200)return q();let u=s.data;D.value=T.Authorized;let v=await ue(A());X.value=Object.values(v),C.value=u.church_id,await j()}else return q()});async function pe(){var s,u,v,$,g,ie;let i="",a="";h.value==1?(i=`${d.value}`,a=`${_.value}:${y.value}-${(v=(u=(s=x.value)==null?void 0:s.books.find(O=>O.name==d.value))==null?void 0:u.chapters.find(O=>O.num==_.value))==null?void 0:v.verses.length}`):h.value==2?(i=`${d.value}`,y.value==S.value?a=`${_.value}:${y.value}`:a=`${_.value}:${y.value}-${S.value}`):(i=`${d.value} `,a=`${_.value}:${y.value}-${(ie=(g=($=x.value)==null?void 0:$.books.find(O=>O.name==d.value))==null?void 0:g.chapters.find(O=>O.num==_.value))==null?void 0:ie.verses.length}, ${F.value}:1-${S.value}`),await Z(A(),C.value,i,"BIBLE",[],a)}let N=r(!1),I=r(!1),M=r(0),B=r(""),b=r([]);function ye(i){M.value=i}async function me(){var a;let i=E.value[M.value];if(!i)return i;await Z(A(),C.value,B.value,((a=i.name)==null?void 0:a.medium)||"",b.value,i.primaryColor||"#000000")}let ee=r([]),se=r([]),d=r("Genesis"),_=r(1),F=r(1),y=r(1),S=r(1),h=r(1);function te(){_.value>ae(d.value).length&&(_.value=1),F.value>le(d.value).length&&(F.value=_.value)}function U(){y.value>J(d.value,_.value).length&&(y.value=1),S.value>ne(d.value,h.value==3?F.value:_.value).length&&(S.value=h.value==3?1:y.value),h.value==1&&(S.value=J(d.value,_.value).length)}function oe(i){d.value=i.target.innerText,te(),U()}function fe(i){_.value=Number.parseInt(i.target.innerText),U()}function ge(i){F.value=Number.parseInt(i.target.innerText),U()}function we(i){y.value=Number.parseInt(i.target.innerText)}function Ce(i){S.value=Number.parseInt(i.target.innerText)}function H(i,a){h.value=a}function ae(i){var s;return(((s=x.value)==null?void 0:s.books.find(u=>u.name==i))||{name:"",chapters:[]}).chapters}function le(i){var u;let a=((u=x.value)==null?void 0:u.books.find(v=>v.name==i))||{name:"",chapters:[]},s=[];if(_.value>0){for(let v=_.value+1;v<=(a==null?void 0:a.chapters.length);v++)s.push(a.chapters[v-1]);return s}return a.chapters}function J(i,a){var v;return((((v=x.value)==null?void 0:v.books.find($=>$.name==i))||{name:"",chapters:[]}).chapters.find($=>$.num==a)||{num:0,verses:[]}).verses}function ne(i,a){var $;let u=((($=x.value)==null?void 0:$.books.find(g=>g.name==i))||{name:"",chapters:[]}).chapters.find(g=>g.num==a)||{num:0,verses:[]},v=[];if(y.value>0){for(let g=h.value==3?1:y.value;g<=(u==null?void 0:u.verses.length);g++)v.push(u.verses[g-1]);return v}return u.verses}function $e(){return V.value?"/acchymns-dev/assets/lock-open-outline.svg":"/acchymns-dev/assets/lock-closed-outline.svg"}return(i,a)=>(o(),t(f,null,[l("div",je,[l("div",qe,[l("img",{onClick:a[0]||(a[0]=s=>G()),class:"ionicon title--left",src:De}),l("h1",Ge,m(e(N)?"Bible Reading":"Broadcast"),1)])]),D.value==e(T).Unauthorized?(o(),t("div",Me,[l("div",He,[l("img",{class:k(["ionicon",{unlocked:V.value}]),src:$e()},null,10,Je),Ke]),l("div",{class:k(["pin-input-container",{"pin-input--error":e(P)}])},[(o(),t(f,null,w(4,s=>l("div",{key:s,class:k(p.value.length==s-1?"pin-space-active":"pin-space")},[p.value.length>=s?(o(),t("img",We)):n("",!0)],2)),64))],2),l("div",Ze,[(o(),t(f,null,w(12,s=>l("div",{class:"key",key:s,onClick:u=>he(s),onAnimationend:a[1]||(a[1]=u=>z(R)?R.value=0:R=0),style:ce({opacity:s==10?0:1})},[s==10?(o(),t("a",Xe)):s==11?(o(),t("a",Ye,ss)):s==12?(o(),t("a",ts,as)):(o(),t("a",ls,[l("h4",null,m(s),1)]))],44,Qe)),64))])])):D.value==e(T).Authorized?(o(),t("div",ns,[e(N)?(o(),t("div",is,[l("div",cs,[us,l("div",{class:k(["book-selector",{"hide-scrollbar":e(c)!=="web"}])},[e(c)!=="web"?(o(),t("a",rs)):n("",!0),e(c)!=="web"?(o(),t("a",bs)):n("",!0),l("a",{onClick:a[2]||(a[2]=s=>H(s,1)),class:k(["biblebook",{selected:e(h)==1}])},"Start Only",2),l("a",{onClick:a[3]||(a[3]=s=>H(s,2)),class:k(["biblebook",{selected:e(h)==2}])},"Start End",2),l("a",{onClick:a[4]||(a[4]=s=>H(s,3)),class:k(["biblebook",{selected:e(h)==3}])},"Start End Chapter",2),e(c)!=="web"?(o(),t("a",_s)):n("",!0),e(c)!=="web"?(o(),t("a",ds)):n("",!0)],2),vs,l("div",ks,[e(c)!=="web"?(o(),t("a",hs)):n("",!0),e(c)!=="web"?(o(),t("a",ps)):n("",!0),(o(!0),t(f,null,w(e(ee),s=>(o(),t("a",{class:k(["biblebook",{selected:s.name==e(d)}]),onClick:a[5]||(a[5]=u=>oe(u)),key:s.name},m(s.name),3))),128)),e(c)!=="web"?(o(),t("a",ys)):n("",!0),e(c)!=="web"?(o(),t("a",ms)):n("",!0)]),l("div",fs,[e(c)!=="web"?(o(),t("a",gs)):n("",!0),e(c)!=="web"?(o(),t("a",ws)):n("",!0),(o(!0),t(f,null,w(e(se),s=>(o(),t("a",{class:k(["biblebook",{selected:s.name==e(d)}]),onClick:a[6]||(a[6]=u=>oe(u)),key:s.name},m(s.name),3))),128)),e(c)!=="web"?(o(),t("a",Cs)):n("",!0),e(c)!=="web"?(o(),t("a",$s)):n("",!0)]),xs,l("div",Ss,[e(c)!=="web"?(o(),t("a",Ns)):n("",!0),e(c)!=="web"?(o(),t("a",Bs)):n("",!0),e(c)!=="web"?(o(),t("a",Fs)):n("",!0),e(c)!=="web"?(o(),t("a",Os)):n("",!0),(o(!0),t(f,null,w(ae(e(d)),s=>(o(),t("a",{class:k(["biblebook",{selected:s.num==e(_)}]),onClick:a[7]||(a[7]=u=>fe(u)),key:s.num},m(s.num),3))),128)),e(c)!=="web"?(o(),t("a",zs)):n("",!0),e(c)!=="web"?(o(),t("a",Ts)):n("",!0),e(c)!=="web"?(o(),t("a",As)):n("",!0),e(c)!=="web"?(o(),t("a",Ds)):n("",!0)]),Es,l("div",Is,[e(c)!=="web"?(o(),t("a",Vs)):n("",!0),e(c)!=="web"?(o(),t("a",Ls)):n("",!0),e(c)!=="web"?(o(),t("a",Rs)):n("",!0),e(c)!=="web"?(o(),t("a",Us)):n("",!0),(o(!0),t(f,null,w(J(e(d),e(_)),s=>(o(),t("a",{class:k(["biblebook",{selected:s.num==e(y)}]),onClick:a[8]||(a[8]=u=>we(u)),key:s.num},m(s.num),3))),128)),e(c)!=="web"?(o(),t("a",Ps)):n("",!0),e(c)!=="web"?(o(),t("a",js)):n("",!0),e(c)!=="web"?(o(),t("a",qs)):n("",!0),e(c)!=="web"?(o(),t("a",Gs)):n("",!0)]),e(h)==3?(o(),t("h3",Ms,"End Chapter")):n("",!0),e(h)==3?(o(),t("div",Hs,[e(c)!=="web"?(o(),t("a",Js)):n("",!0),e(c)!=="web"?(o(),t("a",Ks)):n("",!0),e(c)!=="web"?(o(),t("a",Ws)):n("",!0),e(c)!=="web"?(o(),t("a",Zs)):n("",!0),(o(!0),t(f,null,w(le(e(d)),s=>(o(),t("a",{class:k(["biblebook",{selected:s.num==e(F)}]),onClick:a[9]||(a[9]=u=>ge(u)),key:s.num},m(s.num),3))),128)),e(c)!=="web"?(o(),t("a",Qs)):n("",!0),e(c)!=="web"?(o(),t("a",Xs)):n("",!0),e(c)!=="web"?(o(),t("a",Ys)):n("",!0),e(c)!=="web"?(o(),t("a",et)):n("",!0)])):n("",!0),e(h)>1?(o(),t("h3",st,"End Verse")):n("",!0),e(h)>1?(o(),t("div",tt,[e(c)!=="web"?(o(),t("a",ot)):n("",!0),e(c)!=="web"?(o(),t("a",at)):n("",!0),e(c)!=="web"?(o(),t("a",lt)):n("",!0),e(c)!=="web"?(o(),t("a",nt)):n("",!0),(o(!0),t(f,null,w(ne(e(d),e(h)==3?e(F):e(_)),s=>(o(),t("a",{class:k(["biblebook",{selected:s.num==e(S)}]),onClick:a[10]||(a[10]=u=>Ce(u)),key:s.num},m(s.num),3))),128)),e(c)!=="web"?(o(),t("a",it)):n("",!0),e(c)!=="web"?(o(),t("a",ct)):n("",!0),e(c)!=="web"?(o(),t("a",ut)):n("",!0),e(c)!=="web"?(o(),t("a",rt)):n("",!0)])):n("",!0),l("div",null,[l("button",{class:"send-button",onClick:a[11]||(a[11]=s=>pe())},"Send")]),l("button",{class:"settings-button",onClick:a[12]||(a[12]=s=>G())},"Back")])])):e(I)?(o(),t("div",bt,[l("div",_t,[dt,l("div",{class:k(["book-selector",{"hide-scrollbar":e(c)!=="web"}])},[e(c)!=="web"?(o(),t("a",vt)):n("",!0),e(c)!=="web"?(o(),t("a",kt)):n("",!0),(o(!0),t(f,null,w(e(E).length,s=>{var u;return o(),t("a",{key:s,onClick:v=>ye(s-1),class:k(["biblebook",{selected:e(M)==s-1}]),style:ce({"background-color":e(E)[s-1].primaryColor})},m((u=e(E)[s-1].name)==null?void 0:u.medium),15,ht)}),128)),e(c)!=="web"?(o(),t("a",pt)):n("",!0),e(c)!=="web"?(o(),t("a",yt)):n("",!0)],2),l("div",mt,[ft,Fe(l("input",{type:"text",pattern:"\\d*",maxlength:"3",class:"number-input-bar","onUpdate:modelValue":a[13]||(a[13]=s=>z(B)?B.value=s:B=s),name:"song",placeholder:"#"},null,512),[[Oe,e(B)]])]),gt,l("div",wt,[Ct,l("a",{class:k(["verse",{"verse-selected":e(b)[0]==-2}]),onClick:a[14]||(a[14]=s=>{if(e(b)[0]==-2){z(b)?b.value=[]:b=[];return}else z(b)?b.value=[]:b=[],e(b).push(-2)})}," All ",2),$t]),l("div",xt,[(o(),t(f,null,w(12,s=>l("a",{key:s,class:k(["verse",{"verse-selected":e(b).includes(s)}]),onClick:u=>{e(b)[0]==-2&&(z(b)?b.value=[]:b=[]),e(b).includes(s)?e(b).splice(e(b).indexOf(s),1):e(b).push(s)}},m(s),11,St)),64))]),l("div",null,[l("button",{class:"send-button",disabled:e(B).length==0||Number(e(B))==0,onClick:a[15]||(a[15]=s=>me())}," Send ",8,Nt)]),l("button",{class:"settings-button",onClick:a[16]||(a[16]=s=>G())},"Back")])])):D.value==e(T).Authorized?(o(),t("div",Bt,[Ft,l("h3",Ot,"as "+m(e(C)),1),l("div",zt,[e(c)=="web"?(o(),t("a",Tt,Et)):n("",!0),l("a",{onClick:a[17]||(a[17]=s=>z(I)?I.value=!0:I=!0),class:"settings-option"},Lt),l("a",{onClick:a[18]||(a[18]=s=>z(N)?N.value=!0:N=!0),class:"settings-option"},Pt),l("a",{onClick:a[19]||(a[19]=s=>ke()),class:"settings-option"},[l("span",null,[ze(" Set Background Color "),l("input",{ref_key:"hexinput",ref:L,class:"hexinput",type:"text",placeholder:"#FFFFFF"},null,512)])]),l("a",{onClick:de,class:"settings-option"},qt),l("a",{onClick:q,class:"settings-option"},Mt)])])):n("",!0),Te(Ae,{current_page:"settings"})])):(o(),t("div",Ht,Kt))],64))}});export{so as default};
