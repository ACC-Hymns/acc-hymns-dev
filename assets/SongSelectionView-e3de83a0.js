import{_ as B}from"./chevron-back-outline-3b18af6c.js";import{_ as T}from"./wifi_off-0a29b492.js";import{d as j,u as F,a as q,o as I,r as c,b as K,c as U,g as H,e as J,h as Q,f as W,i as X,n as Y,j as Z,k as u,l as t,m as a,t as f,p as y,w,q as ee,F as g,s as S,v as se,x as l,R as x,y as E,z as R,A as C,_ as te,B as oe,C as ae,D as le,E as ne,G as ie}from"./index-c69eece7.js";const re="/acchymns-dev/assets/book-outline.svg",ce={class:"menu"},ue={class:"title"},de={class:"title--left"},_e={class:"title--center"},ve={class:"title--right"},pe={key:0,class:"fallback-container"},fe={key:1,class:"songs main-content"},ge={key:0,class:"song-button-container"},me=["onClick"],ke={class:"song-title"},be=j({__name:"SongSelectionView",props:{book:{}},setup(V){const i=V,D=F(),m=q();I((o,e)=>{oe(e.fullPath),o.fullPath.includes("/display")||(ae(e.fullPath),le(e.fullPath))});const k=c(!1),v=c([]);let $=c(""),P=c(!1),b=c("#000000"),p=c([]),n=c([]),N=c(),G=K("ACCOptions.songGroupEnabled",!0);U(async()=>{var O;const o=await H(),e=await J(i.book);if(e==null){await Q(i.book),k.value=!0;return}v.value=Object.keys(e).sort((r,h)=>r.localeCompare(h,"en",{numeric:!0}));let s=v.value.length,_=Math.ceil(s/100);for(let r=0;r<_;r++){const h=new RegExp(/[a-z]/,"i");(O=p.value)==null||O.push(v.value.filter(L=>{let A=L.replace(h,"");return r*100<Number(A)&&Number(A)<=(r+1)*100}))}$.value=o[i.book].name.medium,b.value=o[i.book].primaryColor,P.value=o[i.book].indexAvailable,W("isAlphabetical",!1).value=!1;let d=X(m.fullPath);d!=null&&d.forEach(r=>{n.value.push(p.value[r])}),await Y(),Z(m.fullPath)});function M(o){n.value.includes(o)?n.value.splice(n.value.indexOf(o),1):n.value.push(o);let e=[];n.value.forEach(s=>{var _=p.value.indexOf(s);e.push(_)}),ne(m.fullPath,e)}function z(o,e){return o==e?o:`${o} - ${e}`}return(o,e)=>(l(),u(g,null,[t("div",ce,[t("div",ue,[t("div",de,[t("img",{onClick:e[0]||(e[0]=s=>a(D).back()),class:"ionicon",src:B})]),t("div",_e,[t("h1",null,f(k.value?"Unavailable":a($)),1)]),t("div",ve,[t("div",null,[a(P)?(l(),y(a(x),{key:0,to:`/topical/${i.book}`},{default:w(()=>e[1]||(e[1]=[t("img",{class:"ionicon",src:re},null,-1)])),_:1},8,["to"])):ee("",!0)])])])]),k.value?(l(),u("div",pe,e[2]||(e[2]=[t("img",{class:"wifi-fallback",src:T},null,-1)]))):(l(),u("div",fe,[a(G)?(l(!0),u(g,{key:1},S(a(p),(s,_)=>(l(),u("div",{key:_,class:"song-group-container",ref_for:!0,ref_key:"song_group_elements",ref:N},[t("div",null,[t("div",{class:"song-group-title-container",onClick:d=>M(s)},[t("div",ke,f(z(s[0],s[s.length-1])),1),t("img",{class:C(["ionicon nav__icon dropdown-icon",{"dropdown-icon-active":a(n).includes(s)}]),src:B},null,2)],8,me),t("div",{class:C(["wrapper",{"wrapper-active":a(n).includes(s)}])},[t("div",{class:C(["song-button-container",{"song-button-container-active":a(n).includes(s)}])},[(l(!0),u(g,null,S(s,d=>(l(),y(a(x),{key:d,to:`/display/${i.book}/${d}`,class:"song-btn",style:R({background:a(b)})},{default:w(()=>[E(f(d),1)]),_:2},1032,["to","style"]))),128))],2)],2)])]))),128)):(l(),u("div",ge,[(l(!0),u(g,null,S(v.value,s=>(l(),y(a(x),{key:s,to:`/display/${i.book}/${s}`,class:"song-btn",style:R({background:a(b)})},{default:w(()=>[E(f(s),1)]),_:2},1032,["to","style"]))),128))]))])),se(te,{current_page:"home"})],64))}});const Se=ie(be,[["__scopeId","data-v-e5c9f0ec"]]);export{Se as default};
