import{_ as S}from"./chevron-back-outline-3b18af6c.js";import{_ as C,D as x,a as D}from"./DropdownMenu-b48b0b80.js";import{S as k,_ as V}from"./index-8e84c4b6.js";import{d as h,u as A,r as a,o as B,g as M,a as N,h as O,c as v,b as o,e as r,t as R,w as T,f,i as E,j as F,F as j,k as I,l,m as g,_ as K,n as U}from"./index-d8b98756.js";import{v as q}from"./index-f1fc4d9b.js";const z="/acchymns-dev/assets/num.svg",G="/acchymns-dev/assets/text.svg",H="/acchymns-dev/assets/book-outline.svg",J={class:"menu"},L={class:"title"},P={class:"title--left"},Q={class:"title--center"},W={class:"title--right"},X={key:0,class:"fallback-container"},Y=h({__name:"SongSelectionView",props:{book:{}},setup(b){const s=b,c=A(),d=a(!1),u=a(""),m=a(!1);B(async()=>{const t=await M();if(await N(s.book)==null){await O(s.book),d.value=!0;return}u.value=t[s.book].name.medium,m.value=t[s.book].indexAvailable});const n=a(!1),p=a(null),w=[t=>n.value=!1,{ignore:[p]}];async function $(){await k.share({title:`${u.value}`,text:`${u.value} available online now!`,url:`https://acchymns.app/selection/${s.book}`})}const _=a(!1);return k.canShare().then(t=>_.value=t.value),(t,e)=>{const y=I("RouterView");return l(),v(j,null,[o("div",J,[o("div",L,[o("div",P,[o("img",{onClick:e[0]||(e[0]=i=>r(c).back()),class:"ionicon",src:S})]),o("div",Q,[o("h1",null,R(d.value?"Unavailable":u.value),1)]),o("div",W,[o("img",{class:"ionicon",ref_key:"dropdown_button",ref:p,onClick:e[1]||(e[1]=i=>n.value=!n.value),src:C},null,512),T((l(),f(x,{class:"dropdown-menu",dropdown_open:n.value},{default:E(()=>[o("div",{onClick:e[2]||(e[2]=i=>{r(c).replace(`/selection/${s.book}`),n.value=!1})},e[6]||(e[6]=[o("div",null,"Numerical",-1),o("img",{class:"ionicon",src:z},null,-1)])),o("div",{onClick:e[3]||(e[3]=i=>{r(c).replace(`/selection/${s.book}/alphabetical`),n.value=!1})},e[7]||(e[7]=[o("div",null,"Alphabetical",-1),o("img",{class:"ionicon",src:G},null,-1)])),m.value?(l(),v("div",{key:0,onClick:e[4]||(e[4]=i=>{r(c).replace(`/selection/${s.book}/topical`),n.value=!1})},e[8]||(e[8]=[o("div",null,"Topical",-1),o("img",{class:"ionicon",src:H},null,-1)]))):g("",!0),_.value?(l(),v("div",{key:1,onClick:e[5]||(e[5]=i=>{$(),n.value=!1})},e[9]||(e[9]=[o("div",null,"Share",-1),o("img",{class:"ionicon",src:V},null,-1)]))):g("",!0)]),_:1},8,["dropdown_open"])),[[r(q),w]])])])]),d.value?(l(),v("div",X,e[10]||(e[10]=[o("img",{class:"wifi-fallback",src:D},null,-1)]))):(l(),f(y,{key:1,class:"main-content"})),F(K,{current_page:"home"})],64)}}});const te=U(Y,[["__scopeId","data-v-33de44a4"]]);export{te as default};
