import{_ as V}from"./chevron-back-outline-c47e6776.js";import{_ as x}from"./chevron-forward-outline-781df223.js";import{u as T}from"./navigator-a7d5876c.js";import{d as $,M as z,r as d,k as i,l as t,m as s,F as v,s as H,z as L,p as m,ac as P,q as p,aa as E,w as R,A as q,v as I,ad as O,ae as W,af as Y,ag as j,a9 as y,ah as G,x as o,ai as K,t as M,R as Q,_ as J,G as X}from"./index-da7e3611.js";import{T as b}from"./index-a272ef03.js";import{D as C}from"./index-de5dc209.js";const f="/assets/link-outline.svg",Z={key:0,class:"update-section"},ee={key:1,class:"update-book-list-entry more-update"},te={class:"update-button-layout"},ae={key:1},se={class:"menu"},oe={class:"title"},ne={class:"settings main-content"},le=$({__name:"SettingsHelpView",setup(re){const{back:h}=T(),g="Beta 3.0.6",w=g.includes("Beta")||g.includes("Alpha"),B=z.getPlatform()==="web";let a=d([]),r=d(0),k=d(),_=d();async function A(){(await C.confirm({title:"Clear Cache",message:"Are you sure you want to clear the cache?",okButtonTitle:"Yes",cancelButtonTitle:"No"})).value&&(O(),b.show({text:"Cleared Cache!"}))}async function D(){let n=await W();for(let e of n)e.book_summary=await Y(e.book_short);a.value=n}function U(){r.value>0||(k.value.style.opacity="0.0",_.value.style.opacity="0.0",a.value=[])}async function S(){if(!(r.value>0)){var n=[a.value.length];for(let e=0;e<a.value.length;e++){let l=a.value[e];await j(l,c=>{n[e]=c,r.value=n.reduce((u,F)=>u+F,0)/a.value.length},()=>{r.value=0,a.value=[]})}}}async function N(){(await C.confirm({title:"Clear All Data",message:"Are you sure you want to clear ALL your data? This includes bookmarks and imported books!",okButtonTitle:"Yes",cancelButtonTitle:"No"})).value&&(localStorage.clear(),y.remove({key:"bookSources"}),y.remove({key:"bookOrder"}),G(),b.show({text:"Cleared All Data!"}))}return(n,e)=>(o(),i(v,null,[t("div",{class:q({"modal-open":s(a).length>0})},[s(a).length>0?(o(),i("div",Z,[t("div",{class:"background-blur",ref_key:"update_background_element",ref:k},null,512),t("div",{class:"update-panel",ref_key:"update_panel_element",ref:_},[e[4]||(e[4]=t("h2",null,"Hymnal Updates",-1)),e[5]||(e[5]=t("p",null,"Updates found for:",-1)),t("div",null,[(o(!0),i(v,null,H(s(a),(l,c)=>{var u;return o(),i("div",{key:l.book_short},[c<5?(o(),m(K,{key:0,src:((u=l.book_summary)==null?void 0:u.srcUrl)||"",class:"update-book-list-entry","with-link":!1},null,8,["src"])):c==5?(o(),i("div",ee,[t("h4",null,M(s(a).length-5)+" more...",1)])):p("",!0)])}),128))]),t("div",te,[t("a",{class:"update-button",onClick:U,style:L({opacity:s(r)>0?.3:1})},"Later",4),t("a",{class:"update-button-blue",onClick:S},[s(r)>0?(o(),m(P,{key:0,radius:15,progress:s(r)*100,stroke:3,transform:"rotate(-90) translate(-24, 0)"},null,8,["progress"])):(o(),i("span",ae,"Update"))])])],512)])):p("",!0),t("div",se,[t("div",oe,[t("img",{onClick:e[0]||(e[0]=l=>s(h)()),class:"ionicon title--left",src:V}),e[6]||(e[6]=t("h1",{class:"title--center"},"Help",-1))])]),t("div",ne,[e[11]||(e[11]=E('<a href="https://forms.gle/1t7rtUkNaksEUtPEA" class="settings-option" data-v-f72ced70><span data-v-f72ced70>Request a Book or Feature</span><img class="ionicon" src="'+f+'" data-v-f72ced70></a><a href="https://forms.gle/Ezh7d8LFsN5eKdo87" class="settings-option" data-v-f72ced70><span data-v-f72ced70>Report a Bug</span><img class="ionicon" src="'+f+'" data-v-f72ced70></a><a href="https://docs.google.com/document/d/1zWztUrFOr_6ksqDDm4EbQ0jk7trwofaVeeSybcD5PcA" class="settings-option" data-v-f72ced70><span data-v-f72ced70>Privacy Policy</span><img class="ionicon" src="'+f+'" data-v-f72ced70></a>',3)),s(w)?(o(),m(s(Q),{key:0,to:"/settings/help/console",class:"settings-option"},{default:R(()=>e[7]||(e[7]=[t("span",null,"Debug Console",-1),t("img",{class:"entrypoint ionicon",src:x},null,-1)])),_:1})):p("",!0),B?p("",!0):(o(),i("a",{key:1,class:"settings-option",onClick:e[1]||(e[1]=l=>D())},e[8]||(e[8]=[t("span",null,"Force Update Hymnals",-1)]))),t("a",{class:"settings-option",onClick:e[2]||(e[2]=l=>A())},e[9]||(e[9]=[t("span",null,"Clear Cache",-1)])),t("a",{class:"settings-option",onClick:e[3]||(e[3]=l=>N())},e[10]||(e[10]=[t("span",null,"Clear All Data",-1)]))])],2),I(J,{current_page:"settings"})],64))}});const fe=X(le,[["__scopeId","data-v-f72ced70"]]);export{fe as default};
