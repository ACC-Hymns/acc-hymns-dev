import{_ as V}from"./chevron-back-outline-3b18af6c.js";import{_ as j}from"./wifi_off-0a29b492.js";import{d as F,u as H,a as K,o as q,r,b as J,c as U,g as Q,e as W,f as X,h as Y,n as Z,i as ee,j as u,k as e,l as t,t as h,m as C,w as v,p as se,F as k,q as $,s as b,v as n,R as p,x as D,y as N,z as P,A as te,B as oe,C as ae,D as ne,E as le,G as ie,_ as ce,H as _e,I as re,J as ue,K as de}from"./index-fdf012b7.js";const ve="/acchymns-dev/assets/book-outline.svg",l=f=>(le("data-v-12f91fb4"),f=f(),ie(),f),pe={class:"menu"},fe={class:"title"},ge={class:"title--left"},me={class:"title--center"},he={class:"title--right"},ke=l(()=>e("img",{class:"ionicon",src:ve},null,-1)),be={key:0,class:"fallback-container"},ye=l(()=>e("img",{class:"wifi-fallback",src:j},null,-1)),Se=[ye],xe={key:1,class:"songs main-content"},we={key:0,class:"song-button-container"},Ce=["onClick"],$e={class:"song-title"},Pe={class:"nav"},Be=l(()=>e("img",{class:"ionicon nav__icon--active",src:ce},null,-1)),Oe=l(()=>e("span",{class:"nav__text"},"Home",-1)),Ae=l(()=>e("img",{class:"ionicon nav__icon",src:_e},null,-1)),Ee=l(()=>e("span",{class:"nav__text"},"Search",-1)),Re=l(()=>e("img",{class:"ionicon nav__icon",src:re},null,-1)),Ve=l(()=>e("span",{class:"nav__text"},"Bookmarks",-1)),De=l(()=>e("img",{class:"ionicon nav__icon",src:ue},null,-1)),Ne=l(()=>e("span",{class:"nav__text"},"Settings",-1)),Ge=F({__name:"SongSelectionView",props:{book:{}},setup(f){const d=f,G=H(),y=K();q((a,o)=>{te(o.fullPath),a.fullPath.includes("/display")||(oe(o.fullPath),ae(o.fullPath))});const S=r(!1),g=r([]);let B=r(""),O=r(!1),x=r("#000000"),m=r([]),i=r([]),I=r(),M=J("ACCOptions.songGroupEnabled",!0);U(async()=>{var E;const a=await Q(),o=await W(d.book);if(o==null){S.value=!0;return}g.value=Object.keys(o).sort((_,w)=>_.localeCompare(w,"en",{numeric:!0}));let s=g.value.length,c=Math.ceil(s/100);s%100==0&&(c+=1);for(let _=0;_<c;_++)(E=m.value)==null||E.push(g.value.filter(w=>{const T=new RegExp(/[a-z]/,"i");let R=w.replace(T,"");return Number(R)>=_*100&&Number(R)<(_+1)*100}));B.value=a[d.book].name.medium,x.value=a[d.book].primaryColor,O.value=a[d.book].indexAvailable,X("isAlphabetical",!1).value=!1;let A=Y(y.fullPath);A!=null&&A.forEach(_=>{i.value.push(m.value[_])}),await Z(),ee(y.fullPath)});function z(a){i.value.includes(a)?i.value.splice(i.value.indexOf(a),1):i.value.push(a);let o=[];i.value.forEach(s=>{var c=m.value.indexOf(s);o.push(c)}),ne(y.fullPath,o)}function L(a,o){return a==o?a:`${a} - ${o}`}return(a,o)=>(n(),u(k,null,[e("div",pe,[e("div",fe,[e("div",ge,[e("img",{onClick:o[0]||(o[0]=s=>t(G).back()),class:"ionicon",src:V})]),e("div",me,[e("h1",null,h(S.value?"Unavailable":t(B)),1)]),e("div",he,[e("div",null,[t(O)?(n(),C(t(p),{key:0,to:`/topical/${d.book}`},{default:v(()=>[ke]),_:1},8,["to"])):se("",!0)])])])]),S.value?(n(),u("div",be,Se)):(n(),u("div",xe,[t(M)?(n(!0),u(k,{key:1},$(t(m),s=>(n(),u("div",{class:"song-group-container",ref_for:!0,ref_key:"song_group_elements",ref:I},[e("div",null,[e("div",{class:"song-group-title-container",onClick:c=>z(s)},[e("div",$e,h(L(s[0],s[s.length-1])),1),e("img",{class:P(["ionicon nav__icon dropdown-icon",{"dropdown-icon-active":t(i).includes(s)}]),src:V},null,2)],8,Ce),e("div",{class:P(["wrapper",{"wrapper-active":t(i).includes(s)}])},[e("div",{class:P(["song-button-container",{"song-button-container-active":t(i).includes(s)}])},[(n(!0),u(k,null,$(s,c=>(n(),C(t(p),{key:c,to:`/display/${d.book}/${c}`,class:"song-btn",style:N({background:t(x)})},{default:v(()=>[D(h(c),1)]),_:2},1032,["to","style"]))),128))],2)],2)])],512))),256)):(n(),u("div",we,[(n(!0),u(k,null,$(g.value,s=>(n(),C(t(p),{key:s,to:`/display/${d.book}/${s}`,class:"song-btn",style:N({background:t(x)})},{default:v(()=>[D(h(s),1)]),_:2},1032,["to","style"]))),128))]))])),e("nav",Pe,[b(t(p),{to:"/",class:"nav__link nav__link--active"},{default:v(()=>[Be,Oe]),_:1}),b(t(p),{to:"/search",class:"nav__link"},{default:v(()=>[Ae,Ee]),_:1}),b(t(p),{to:"/bookmarks",class:"nav__link"},{default:v(()=>[Re,Ve]),_:1}),b(t(p),{to:"/settings",class:"nav__link"},{default:v(()=>[De,Ne]),_:1})])],64))}});const Le=de(Ge,[["__scopeId","data-v-12f91fb4"]]);export{Le as default};
