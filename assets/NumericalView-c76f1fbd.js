import{_ as V}from"./chevron-back-outline-3b18af6c.js";import{d as z,p as L,q as T,r as n,s as F,o as I,g as j,a as q,h as H,v as K,x as J,y as Q,z as U,c,e as t,F as m,A as k,l as r,f as C,i as P,B as S,t as h,C as O,R as A,b as _,D as y,E as W,G as X,H as Y,I as Z,n as ee}from"./index-d8b98756.js";const ae={class:"songs"},se={key:0,class:"song-button-container"},oe=["onClick"],te={class:"song-title"},le=z({__name:"NumericalView",setup(ne){const p=L(),i={book:p.params.book};T((a,s)=>{W(s.fullPath),a.fullPath.includes("/display")||(X(s.fullPath),Y(s.fullPath))});const B=n(!1),v=n([]);let E=n(""),N=n(!1),g=n("#000000"),f=n([]),o=n([]),$=n(),D=F("ACCOptions.songGroupEnabled",!0);I(async()=>{var w;const a=await j(),s=await q(i.book);if(s==null){await H(i.book),B.value=!0;return}v.value=Object.keys(s).sort((l,b)=>l.localeCompare(b,"en",{numeric:!0}));let e=v.value.length,d=Math.ceil(e/100);for(let l=0;l<d;l++){const b=new RegExp(/[a-z]/,"i");(w=f.value)==null||w.push(v.value.filter(M=>{let x=M.replace(b,"");return l*100<Number(x)&&Number(x)<=(l+1)*100}))}E.value=a[i.book].name.medium,g.value=a[i.book].primaryColor,N.value=a[i.book].indexAvailable,K("isAlphabetical",!1).value=!1;let u=J(p.fullPath);u!=null&&u.forEach(l=>{o.value.push(f.value[l])}),await Q(),U(p.fullPath)});function R(a){o.value.includes(a)?o.value.splice(o.value.indexOf(a),1):o.value.push(a);let s=[];o.value.forEach(e=>{var d=f.value.indexOf(e);s.push(d)}),Z(p.fullPath,s)}function G(a,s){return a==s?a:`${a} - ${s}`}return(a,s)=>(r(),c("div",ae,[t(D)?(r(!0),c(m,{key:1},k(t(f),(e,d)=>(r(),c("div",{key:d,class:"song-group-container",ref_for:!0,ref_key:"song_group_elements",ref:$},[_("div",null,[_("div",{class:"song-group-title-container",onClick:u=>R(e)},[_("div",te,h(G(e[0],e[e.length-1])),1),_("img",{class:y(["ionicon nav__icon dropdown-icon",{"dropdown-icon-active":t(o).includes(e)}]),src:V},null,2)],8,oe),_("div",{class:y(["wrapper",{"wrapper-active":t(o).includes(e)}])},[_("div",{class:y(["song-button-container",{active:t(o).includes(e)}])},[(r(!0),c(m,null,k(e,u=>(r(),C(t(A),{key:u,to:`/display/${i.book}/${u}`,class:"song-btn",style:O({background:t(g)})},{default:P(()=>[S(h(u),1)]),_:2},1032,["to","style"]))),128))],2)],2)])]))),128)):(r(),c("div",se,[(r(!0),c(m,null,k(v.value,e=>(r(),C(t(A),{key:e,to:`/display/${i.book}/${e}`,class:"song-btn",style:O({background:t(g)})},{default:P(()=>[S(h(e),1)]),_:2},1032,["to","style"]))),128))]))]))}});const ue=ee(le,[["__scopeId","data-v-cf49fd01"]]);export{ue as default};
