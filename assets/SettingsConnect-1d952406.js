import{d as Fe,r,S as ze,c as Oe,af as Te,ak as Y,a7 as Z,k as t,l as a,t as f,m as e,A as k,F as g,s as C,q as l,a5 as Ae,a6 as De,V as O,y as Ie,v as j,w as q,x as o,z as be,R as G,I as Ve,J as Ee}from"./index-d533114a.js";import{_ as Re}from"./chevron-back-outline-3b18af6c.js";import{_ as se}from"./chevron-forward-outline-4fe420c1.js";import{_ as Le}from"./home-outline-fa9c027b.js";import{_ as Ue}from"./settings-5944a888.js";import{u as Pe}from"./navigator-982bb100.js";import{U as T,v as je,b as de,r as A,g as qe,s as ee,c as Ge,d as Me}from"./broadcast-fec76f00.js";const He="/acchymns-dev/assets/ellipse.svg",Je="/acchymns-dev/assets/backspace.svg",Ke={class:"menu"},We={class:"title"},Qe={class:"title--center"},Xe={key:0,class:"login-container"},Ye={class:"login-instructions"},Ze=["src"],es=a("p",null,"Please enter 4-digit PIN",-1),ss={key:0,class:"ionicon pin-dot",src:He},ts={class:"keypad"},os=["onClick"],as={key:0},ns={key:1},ls=a("h4",null,"0",-1),is=[ls],cs={key:2,class:"backspace"},us=a("img",{class:"ionicon keyicon",src:Je},null,-1),rs=[us],_s={key:3},bs={key:1,class:"main-content"},ds={key:0},vs={class:"center-container"},ks=a("h3",null,"Reading Type",-1),hs={key:0,class:"biblebook space"},ps={key:1,class:"biblebook space"},ms={key:2,class:"biblebook space"},ys={key:3,class:"biblebook space"},fs=a("h3",null,"Book",-1),gs={class:"book-selector"},ws={key:0,class:"biblebook space"},Cs={key:1,class:"biblebook space"},xs={key:2,class:"biblebook space"},$s={key:3,class:"biblebook space"},Ss={class:"book-selector"},Ns={key:0,class:"biblebook space"},Bs={key:1,class:"biblebook space"},Fs={key:2,class:"biblebook space"},zs={key:3,class:"biblebook space"},Os=a("h3",null,"Chapter",-1),Ts={class:"number-selector"},As={key:0,class:"biblebook space"},Ds={key:1,class:"biblebook space"},Is={key:2,class:"biblebook space"},Vs={key:3,class:"biblebook space"},Es={key:4,class:"biblebook space"},Rs={key:5,class:"biblebook space"},Ls={key:6,class:"biblebook space"},Us={key:7,class:"biblebook space"},Ps=a("h3",null,"Start Verse",-1),js={class:"number-selector"},qs={key:0,class:"biblebook space"},Gs={key:1,class:"biblebook space"},Ms={key:2,class:"biblebook space"},Hs={key:3,class:"biblebook space"},Js={key:4,class:"biblebook space"},Ks={key:5,class:"biblebook space"},Ws={key:6,class:"biblebook space"},Qs={key:7,class:"biblebook space"},Xs={key:0},Ys={key:1,class:"number-selector"},Zs={key:0,class:"biblebook space"},et={key:1,class:"biblebook space"},st={key:2,class:"biblebook space"},tt={key:3,class:"biblebook space"},ot={key:4,class:"biblebook space"},at={key:5,class:"biblebook space"},nt={key:6,class:"biblebook space"},lt={key:7,class:"biblebook space"},it={key:2},ct={key:3,class:"number-selector"},ut={key:0,class:"biblebook space"},rt={key:1,class:"biblebook space"},_t={key:2,class:"biblebook space"},bt={key:3,class:"biblebook space"},dt={key:4,class:"biblebook space"},vt={key:5,class:"biblebook space"},kt={key:6,class:"biblebook space"},ht={key:7,class:"biblebook space"},pt={key:1},mt={class:"center-container"},yt=a("h3",null,"Hymnal",-1),ft={key:0,class:"biblebook space"},gt={key:1,class:"biblebook space"},wt=["onClick"],Ct={key:2,class:"biblebook space"},xt={key:3,class:"biblebook space"},$t={class:"center-container"},St=a("h3",null,"Song Number",-1),Nt=a("h3",null,"Verses",-1),Bt={class:"verse-list"},Ft=a("div",null,null,-1),zt=a("div",null,null,-1),Ot={class:"verse-list"},Tt=["onClick"],At=["disabled"],Dt={key:2,class:"center-container"},It=a("h1",{style:{"margin-bottom":"0px"}},"Authorized",-1),Vt={style:{"margin-top":"0px"}},Et={class:"settings width-100"},Rt={key:0,href:"/broadcast",class:"settings-option"},Lt=a("span",null,"Open Output Display",-1),Ut=a("img",{class:"entrypoint ionicon",src:se},null,-1),Pt=[Lt,Ut],jt=a("span",null,"Set Song Number",-1),qt=a("img",{class:"entrypoint ionicon",src:se},null,-1),Gt=[jt,qt],Mt=a("span",null,"Set Bible Reading",-1),Ht=a("img",{class:"entrypoint ionicon",src:se},null,-1),Jt=[Mt,Ht],Kt=a("span",null,"Clear Screen",-1),Wt=[Kt],Qt=a("span",null,"Log Out",-1),Xt=[Qt],Yt={class:"nav"},Zt=a("img",{class:"ionicon nav__icon",src:Le},null,-1),eo=a("span",{class:"nav__text"},"Home",-1),so=a("img",{class:"ionicon nav__icon",src:Ve},null,-1),to=a("span",{class:"nav__text"},"Search",-1),oo=a("img",{class:"ionicon nav__icon",src:Ee},null,-1),ao=a("span",{class:"nav__text"},"Bookmarks",-1),no=a("img",{class:"ionicon nav__icon--active",src:Ue},null,-1),lo=a("span",{class:"nav__text"},"Settings",-1),io={key:2,class:"lds-ring-container"},co=a("div",{class:"lds-ring"},[a("div"),a("div"),a("div"),a("div")],-1),uo=[co],yo=Fe({__name:"SettingsConnect",setup(ro){const{back:ve}=Pe(),E=r(!1),p=r(""),D=r(T.None);let i=r(ze.getPlatform()),M=r(!1),x=r("LOADING"),R=r(),L=r([]),$=r(),U=r(0),I=r([]);async function ke(c){return await Me.post("https://iahifuumb7zasmzuv5xqpmi7fu0pwtkt.lambda-url.us-east-2.on.aws/",{code:c})}async function he(c){let n=c.data;if(c.status==200){await Z.set({key:"broadcasting_auth_token",value:n.token}),D.value=T.Authorized;let s=await de(A());L.value=[];for(const[u,_]of Object.entries(s))L.value.push(_);x.value=n.church_id,await H()}else console.log(c.data),setTimeout(()=>{M.value=!1,p.value=""},400)}async function H(){let c=(await qe(A(),x.value)).Item;R.value&&(R.value.value=c.BG_COLOR.S)}async function pe(){await ee(A(),x.value,"","",[-1],"")}async function J(){await Z.set({key:"broadcasting_auth_token",value:""}),D.value=T.Unauthorized,p.value="",E.value=!1}function me(){p.value.length>0&&(p.value=p.value.substring(0,p.value.length-1))}function te(c){p.value+=c}async function K(){N.value||V.value?(N.value=!1,V.value=!1,await H()):ve()}async function ye(){if(!R.value)return;let c=R.value.value;c==""&&(c="#FFFFFF"),c[0]=="#"&&await Ge(A(),x.value,c)}async function fe(c){if(c!=10&&(U.value=c,c==12?me():c==11?te(0):te(c),!(p.value.length>4)&&p.value.length==4)){let n=await ke(p.value);E.value=n.status==200,E.value||(M.value=!0),setTimeout(()=>{he(n)},500)}}Oe(async()=>{x.value="...",$.value=await(await fetch("/acchymns-dev/NKJV.bible.json",{})).json()||{version:"",books:[]};let c=await Te();I.value=c.filter(s=>s.status==Y.DOWNLOADED||s.status==Y.IMPORTED||s.status==Y.BUNDLED),console.log(I.value);let n=await Z.get({key:"broadcasting_auth_token"});for(let[s,u]of $.value.books.entries())s>38?ae.value.push(u):oe.value.push(u);if(ne(),P(),n.value!=""&&n.value!=null){let s=await je(n.value);if(s.status!=200)return J();let u=s.data;D.value=T.Authorized;let _=await de(A());L.value=[];for(const[w,y]of Object.entries(_))L.value.push(y);x.value=u.church_id,await H()}else return J()});async function ge(c){var u,_,w,y,re,_e;let n="",s="";h.value==1?(n=`${v.value}`,s=`${d.value}:${m.value}-${(w=(_=(u=$.value)==null?void 0:u.books.find(z=>z.name==v.value))==null?void 0:_.chapters.find(z=>z.num==d.value))==null?void 0:w.verses.length}`):h.value==2?(n=`${v.value}`,m.value==S.value?s=`${d.value}:${m.value}`:s=`${d.value}:${m.value}-${S.value}`):(n=`${v.value} `,s=`${d.value}:${m.value}-${(_e=(re=(y=$.value)==null?void 0:y.books.find(z=>z.name==v.value))==null?void 0:re.chapters.find(z=>z.num==d.value))==null?void 0:_e.verses.length}, ${F.value}:1-${S.value}`),await ee(A(),x.value,n,"BIBLE",[],s)}let N=r(!1),V=r(!1),W=r(0),B=r(""),b=r([]);function we(c,n){W.value=n}async function Ce(c){var s;let n=I.value[W.value];if(!n)return n;await ee(A(),x.value,B.value,((s=n.name)==null?void 0:s.medium)||"",b.value,n.primaryColor||"#000000")}let oe=r([]),ae=r([]),v=r("Genesis"),d=r(1),F=r(1),m=r(1),S=r(1),h=r(1);function ne(){d.value>ie(v.value).length&&(d.value=1),F.value>ce(v.value).length&&(F.value=d.value)}function P(){m.value>X(v.value,d.value).length&&(m.value=1),S.value>ue(v.value,h.value==3?F.value:d.value).length&&(S.value=h.value==3?1:m.value),h.value==1&&(S.value=X(v.value,d.value).length)}function le(c){v.value=c.target.innerText,ne(),P()}function xe(c){d.value=Number.parseInt(c.target.innerText),P()}function $e(c){F.value=Number.parseInt(c.target.innerText),P()}function Se(c){m.value=Number.parseInt(c.target.innerText)}function Ne(c){S.value=Number.parseInt(c.target.innerText)}function Q(c,n){h.value=n}function ie(c){var s;return(((s=$.value)==null?void 0:s.books.find(u=>u.name==c))||{name:"",chapters:[]}).chapters}function ce(c){var u;let n=((u=$.value)==null?void 0:u.books.find(_=>_.name==c))||{name:"",chapters:[]},s=[];if(d.value>0){for(let _=d.value+1;_<=(n==null?void 0:n.chapters.length);_++)s.push(n.chapters[_-1]);return s}return n.chapters}function X(c,n){var _;return((((_=$.value)==null?void 0:_.books.find(w=>w.name==c))||{name:"",chapters:[]}).chapters.find(w=>w.num==n)||{num:0,verses:[]}).verses}function ue(c,n){var w;let u=(((w=$.value)==null?void 0:w.books.find(y=>y.name==c))||{name:"",chapters:[]}).chapters.find(y=>y.num==n)||{num:0,verses:[]},_=[];if(m.value>0){for(let y=h.value==3?1:m.value;y<=(u==null?void 0:u.verses.length);y++)_.push(u.verses[y-1]);return _}return u.verses}function Be(){return E.value?"/acchymns-dev/assets/lock-open-outline.svg":"/acchymns-dev/assets/lock-closed-outline.svg"}return(c,n)=>(o(),t(g,null,[a("div",Ke,[a("div",We,[a("img",{onClick:n[0]||(n[0]=s=>K()),class:"ionicon title--left",src:Re}),a("h1",Qe,f(e(N)?"Bible Reading":"Broadcast"),1)])]),D.value==e(T).Unauthorized?(o(),t("div",Xe,[a("div",Ye,[a("img",{class:k(["ionicon",{unlocked:E.value}]),src:Be()},null,10,Ze),es]),a("div",{class:k(["pin-input-container",{"pin-input--error":e(M)}])},[(o(),t(g,null,C(4,s=>a("div",{class:k(p.value.length==s-1?"pin-space-active":"pin-space")},[p.value.length>=s?(o(),t("img",ss)):l("",!0)],2)),64))],2),a("div",ts,[(o(),t(g,null,C(12,s=>a("div",{class:"key",onClick:u=>fe(s),onAnimationend:n[1]||(n[1]=u=>O(U)?U.value=0:U=0),style:be({opacity:s==10?0:1})},[s==10?(o(),t("a",as)):s==11?(o(),t("a",ns,is)):s==12?(o(),t("a",cs,rs)):(o(),t("a",_s,[a("h4",null,f(s),1)]))],44,os)),64))])])):D.value==e(T).Authorized?(o(),t("div",bs,[e(N)?(o(),t("div",ds,[a("div",vs,[ks,a("div",{class:k(["book-selector",{"hide-scrollbar":e(i)!=="web"}])},[e(i)!=="web"?(o(),t("a",hs)):l("",!0),e(i)!=="web"?(o(),t("a",ps)):l("",!0),a("a",{onClick:n[2]||(n[2]=s=>Q(s,1)),class:k(["biblebook",{selected:e(h)==1}])},"Start Only",2),a("a",{onClick:n[3]||(n[3]=s=>Q(s,2)),class:k(["biblebook",{selected:e(h)==2}])},"Start End",2),a("a",{onClick:n[4]||(n[4]=s=>Q(s,3)),class:k(["biblebook",{selected:e(h)==3}])},"Start End Chapter",2),e(i)!=="web"?(o(),t("a",ms)):l("",!0),e(i)!=="web"?(o(),t("a",ys)):l("",!0)],2),fs,a("div",gs,[e(i)!=="web"?(o(),t("a",ws)):l("",!0),e(i)!=="web"?(o(),t("a",Cs)):l("",!0),(o(!0),t(g,null,C(e(oe),s=>(o(),t("a",{class:k(["biblebook",{selected:s.name==e(v)}]),onClick:n[5]||(n[5]=u=>le(u)),key:s.name},f(s.name),3))),128)),e(i)!=="web"?(o(),t("a",xs)):l("",!0),e(i)!=="web"?(o(),t("a",$s)):l("",!0)]),a("div",Ss,[e(i)!=="web"?(o(),t("a",Ns)):l("",!0),e(i)!=="web"?(o(),t("a",Bs)):l("",!0),(o(!0),t(g,null,C(e(ae),s=>(o(),t("a",{class:k(["biblebook",{selected:s.name==e(v)}]),onClick:n[6]||(n[6]=u=>le(u)),key:s.name},f(s.name),3))),128)),e(i)!=="web"?(o(),t("a",Fs)):l("",!0),e(i)!=="web"?(o(),t("a",zs)):l("",!0)]),Os,a("div",Ts,[e(i)!=="web"?(o(),t("a",As)):l("",!0),e(i)!=="web"?(o(),t("a",Ds)):l("",!0),e(i)!=="web"?(o(),t("a",Is)):l("",!0),e(i)!=="web"?(o(),t("a",Vs)):l("",!0),(o(!0),t(g,null,C(ie(e(v)),s=>(o(),t("a",{class:k(["biblebook",{selected:s.num==e(d)}]),onClick:n[7]||(n[7]=u=>xe(u)),key:s.num},f(s.num),3))),128)),e(i)!=="web"?(o(),t("a",Es)):l("",!0),e(i)!=="web"?(o(),t("a",Rs)):l("",!0),e(i)!=="web"?(o(),t("a",Ls)):l("",!0),e(i)!=="web"?(o(),t("a",Us)):l("",!0)]),Ps,a("div",js,[e(i)!=="web"?(o(),t("a",qs)):l("",!0),e(i)!=="web"?(o(),t("a",Gs)):l("",!0),e(i)!=="web"?(o(),t("a",Ms)):l("",!0),e(i)!=="web"?(o(),t("a",Hs)):l("",!0),(o(!0),t(g,null,C(X(e(v),e(d)),s=>(o(),t("a",{class:k(["biblebook",{selected:s.num==e(m)}]),onClick:n[8]||(n[8]=u=>Se(u)),key:s.num},f(s.num),3))),128)),e(i)!=="web"?(o(),t("a",Js)):l("",!0),e(i)!=="web"?(o(),t("a",Ks)):l("",!0),e(i)!=="web"?(o(),t("a",Ws)):l("",!0),e(i)!=="web"?(o(),t("a",Qs)):l("",!0)]),e(h)==3?(o(),t("h3",Xs,"End Chapter")):l("",!0),e(h)==3?(o(),t("div",Ys,[e(i)!=="web"?(o(),t("a",Zs)):l("",!0),e(i)!=="web"?(o(),t("a",et)):l("",!0),e(i)!=="web"?(o(),t("a",st)):l("",!0),e(i)!=="web"?(o(),t("a",tt)):l("",!0),(o(!0),t(g,null,C(ce(e(v)),s=>(o(),t("a",{class:k(["biblebook",{selected:s.num==e(F)}]),onClick:n[9]||(n[9]=u=>$e(u)),key:s.num},f(s.num),3))),128)),e(i)!=="web"?(o(),t("a",ot)):l("",!0),e(i)!=="web"?(o(),t("a",at)):l("",!0),e(i)!=="web"?(o(),t("a",nt)):l("",!0),e(i)!=="web"?(o(),t("a",lt)):l("",!0)])):l("",!0),e(h)>1?(o(),t("h3",it,"End Verse")):l("",!0),e(h)>1?(o(),t("div",ct,[e(i)!=="web"?(o(),t("a",ut)):l("",!0),e(i)!=="web"?(o(),t("a",rt)):l("",!0),e(i)!=="web"?(o(),t("a",_t)):l("",!0),e(i)!=="web"?(o(),t("a",bt)):l("",!0),(o(!0),t(g,null,C(ue(e(v),e(h)==3?e(F):e(d)),s=>(o(),t("a",{class:k(["biblebook",{selected:s.num==e(S)}]),onClick:n[10]||(n[10]=u=>Ne(u)),key:s.num},f(s.num),3))),128)),e(i)!=="web"?(o(),t("a",dt)):l("",!0),e(i)!=="web"?(o(),t("a",vt)):l("",!0),e(i)!=="web"?(o(),t("a",kt)):l("",!0),e(i)!=="web"?(o(),t("a",ht)):l("",!0)])):l("",!0),a("div",null,[a("button",{class:"send-button",onClick:n[11]||(n[11]=s=>ge())},"Send")]),a("button",{class:"settings-button",onClick:n[12]||(n[12]=s=>K())},"Back")])])):e(V)?(o(),t("div",pt,[a("div",mt,[yt,a("div",{class:k(["book-selector",{"hide-scrollbar":e(i)!=="web"}])},[e(i)!=="web"?(o(),t("a",ft)):l("",!0),e(i)!=="web"?(o(),t("a",gt)):l("",!0),(o(!0),t(g,null,C(e(I).length,s=>{var u;return o(),t("a",{onClick:_=>we(_,s-1),class:k(["biblebook",{selected:e(W)==s-1}]),style:be({"background-color":e(I)[s-1].primaryColor})},f((u=e(I)[s-1].name)==null?void 0:u.medium),15,wt)}),256)),e(i)!=="web"?(o(),t("a",Ct)):l("",!0),e(i)!=="web"?(o(),t("a",xt)):l("",!0)],2),a("div",$t,[St,Ae(a("input",{type:"text",pattern:"\\d*",maxlength:"3",class:"number-input-bar","onUpdate:modelValue":n[13]||(n[13]=s=>O(B)?B.value=s:B=s),name:"song",placeholder:"#"},null,512),[[De,e(B)]])]),Nt,a("div",Bt,[Ft,a("a",{class:k(["verse",{"verse-selected":e(b)[0]==-2}]),onClick:n[14]||(n[14]=s=>{if(e(b)[0]==-2){O(b)?b.value=[]:b=[];return}else O(b)?b.value=[]:b=[],e(b).push(-2)})}," All ",2),zt]),a("div",Ot,[(o(),t(g,null,C(12,s=>a("a",{key:s,class:k(["verse",{"verse-selected":e(b).includes(s)}]),onClick:u=>{e(b)[0]==-2&&(O(b)?b.value=[]:b=[]),e(b).includes(s)?e(b).splice(e(b).indexOf(s),1):e(b).push(s)}},f(s),11,Tt)),64))]),a("div",null,[a("button",{class:"send-button",disabled:e(B).length==0||Number(e(B))==0,onClick:n[15]||(n[15]=s=>Ce())},"Send",8,At)]),a("button",{class:"settings-button",onClick:n[16]||(n[16]=s=>K())},"Back")])])):D.value==e(T).Authorized?(o(),t("div",Dt,[It,a("h3",Vt,"as "+f(e(x)),1),a("div",Et,[e(i)=="web"?(o(),t("a",Rt,Pt)):l("",!0),a("a",{onClick:n[17]||(n[17]=s=>O(V)?V.value=!0:V=!0),class:"settings-option"},Gt),a("a",{onClick:n[18]||(n[18]=s=>O(N)?N.value=!0:N=!0),class:"settings-option"},Jt),a("a",{onClick:n[19]||(n[19]=s=>ye()),class:"settings-option"},[a("span",null,[Ie(" Set Background Color "),a("input",{ref_key:"hexinput",ref:R,class:"hexinput",type:"text",placeholder:"#FFFFFF"},null,512)])]),a("a",{onClick:pe,class:"settings-option"},Wt),a("a",{onClick:J,class:"settings-option"},Xt)])])):l("",!0),a("nav",Yt,[j(e(G),{to:"/",class:"nav__link"},{default:q(()=>[Zt,eo]),_:1}),j(e(G),{to:"/search",class:"nav__link"},{default:q(()=>[so,to]),_:1}),j(e(G),{to:"/bookmarks",class:"nav__link"},{default:q(()=>[oo,ao]),_:1}),j(e(G),{to:"/settings",class:"nav__link nav__link--active"},{default:q(()=>[no,lo]),_:1})])])):(o(),t("div",io,uo))],64))}});export{yo as default};
