import{_ as B}from"./chevron-back-outline-3b18af6c.js";import{d as C,p as T,r as i,q as A,o as F,g as D,a as $,J as E,x as G,y as M,z as V,c as g,F as w,A as x,e as l,l as d,b as n,t as m,D as b,f as R,i as z,C as I,R as L,E as j,G as K,H as N,I as q,n as H}from"./index-d8b98756.js";const J=["onClick"],Q={class:"song-title"},U={class:"song__title"},W={class:"booktext--right"},X={class:"song__number"},Y=C({__name:"TopicalView",setup(Z){const p=T(),c={book:p.params.book},O=i(!1);let h=i(""),k=i("#FFFFFF"),y=i("#000000"),u=i({}),v=null,_=null;A((s,t)=>{j(t.fullPath),s.fullPath.includes("/display")||(K(t.fullPath),N(t.fullPath))}),F(async()=>{_=await D(),v=await $(c.book),h.value=_[c.book].name.short,k.value=_[c.book].primaryColor,y.value=_[c.book].secondaryColor;const s=await E(_[c.book].name.short);if(s==null||v==null){O.value=!0;return}for(let[r,o]of Object.entries(s)){u.value[r]=[];for(let e of o)u.value[r].push({number:e,title:v[e].title,notes:v[e].notes});u.value[r].sort((e,P)=>e.title.replace(/[.,/#!$%^&*;:{}=\-_'"`~()]/g,"").localeCompare(P.title.replace(/[.,/#!$%^&*;:{}=\-_'"`~()]/g,"")))}f.value=Object.keys(u.value);let t=G(p.fullPath);t!=null&&t.forEach(r=>{a.value.push(f.value[r])}),await M(),V(p.fullPath)});let f=i([]),a=i([]);function S(s){a.value.includes(s)?a.value.splice(a.value.indexOf(s),1):a.value.push(s);let t=[];a.value.forEach(r=>{var o=f.value.indexOf(r);t.push(o)}),q(p.fullPath,t)}return(s,t)=>(d(),g("div",null,[(d(!0),g(w,null,x(l(u),(r,o)=>(d(),g("div",{key:o,class:"song-group-container",ref_for:!0,ref:"song_group_elements"},[n("div",{class:"song-group-title-container",onClick:e=>S(o.toString())},[n("div",Q,m(o),1),n("img",{class:b(["ionicon nav__icon dropdown-icon",{"dropdown-icon-active":l(a).includes(o.toString())}]),src:B},null,2)],8,J),n("div",{class:b(["wrapper",{"wrapper-active":l(a).includes(o.toString())}])},[n("div",{class:b(["song-button-container",{"song-button-container-active":l(a).includes(o.toString())}])},[(d(!0),g(w,null,x(l(u)[o],e=>(d(),R(l(L),{key:e.title+e.number,to:`/display/${l(h)}/${e.number}`,class:"song topic-song",style:I(`background: linear-gradient(135deg, ${l(k)}, ${l(y)})`)},{default:z(()=>[n("div",null,[n("div",U,m(e.title),1)]),n("div",W,[n("div",X,"#"+m(e.number),1)])]),_:2},1032,["to","style"]))),128))],2)],2)]))),128))]))}});const te=H(Y,[["__scopeId","data-v-4af4aeb4"]]);export{te as default};
