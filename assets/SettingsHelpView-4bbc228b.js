import{_ as T}from"./chevron-back-outline-3b18af6c.js";import{_ as V}from"./chevron-forward-outline-4fe420c1.js";import{u as $}from"./navigator-94a9906b.js";import{d as z,O as I,r as _,k as c,l as e,m as a,F as y,s as L,z as P,p as f,a9 as E,q as m,w as O,A as R,v as q,aa as W,ab as Y,ac as j,ad as G,a6 as v,ae as K,x as o,af as Q,t as J,R as M,_ as X,G as Z,H as ee,I as te}from"./index-83306a13.js";import{T as b}from"./index-30e90673.js";import{D as C}from"./index-2b11bd0f.js";const w="/acchymns-dev/assets/link-outline.svg",n=u=>(Z("data-v-205d79a3"),u=u(),ee(),u),se={key:0,class:"update-section"},ae=n(()=>e("h2",null,"Hymnal Updates",-1)),oe=n(()=>e("p",null,"Updates found for:",-1)),ne={key:1,class:"update-book-list-entry more-update"},le={class:"update-button-layout"},re={key:1},ie={class:"menu"},ce={class:"title"},ue=n(()=>e("h1",{class:"title--center"},"Help",-1)),de={class:"settings main-content"},pe=n(()=>e("a",{href:"https://forms.gle/Ezh7d8LFsN5eKdo87",class:"settings-option"},[e("span",null,"Report a Bug"),e("img",{class:"ionicon",src:w})],-1)),_e=n(()=>e("a",{href:"https://docs.google.com/document/d/1zWztUrFOr_6ksqDDm4EbQ0jk7trwofaVeeSybcD5PcA",class:"settings-option"},[e("span",null,"Privacy Policy"),e("img",{class:"ionicon",src:w})],-1)),me=n(()=>e("span",null,"Debug Console",-1)),fe=n(()=>e("img",{class:"entrypoint ionicon",src:V},null,-1)),ge=n(()=>e("span",null,"Force Update Hymnals",-1)),ke=[ge],he=n(()=>e("span",null,"Clear Cache",-1)),ye=[he],ve=n(()=>e("span",null,"Clear All Data",-1)),be=[ve],Ce=z({__name:"SettingsHelpView",setup(u){const{back:B}=$(),g="Beta 3.0.6",S=g.includes("Beta")||g.includes("Alpha"),D=I.getPlatform()==="web";let s=_([]),i=_(0),k=_(),h=_();async function A(){(await C.confirm({title:"Clear Cache",message:"Are you sure you want to clear the cache?",okButtonTitle:"Yes",cancelButtonTitle:"No"})).value&&(W(),b.show({text:"Cleared Cache!"}))}async function U(){let l=await Y();for(let t of l)t.book_summary=await j(t.book_short);s.value=l}function x(){i.value>0||(k.value.style.opacity="0.0",h.value.style.opacity="0.0",s.value=[])}async function F(){if(!(i.value>0)){var l=[s.value.length];for(let t=0;t<s.value.length;t++){let r=s.value[t];await G(r,d=>{l[t]=d,i.value=l.reduce((p,N)=>p+N,0)/s.value.length},()=>{i.value=0,s.value=[]})}}}async function H(){(await C.confirm({title:"Clear All Data",message:"Are you sure you want to clear ALL your data? This includes bookmarks and imported books!",okButtonTitle:"Yes",cancelButtonTitle:"No"})).value&&(localStorage.clear(),v.remove({key:"bookSources"}),v.remove({key:"bookOrder"}),K(),b.show({text:"Cleared All Data!"}))}return(l,t)=>(o(),c(y,null,[e("div",{class:R({"modal-open":a(s).length>0})},[a(s).length>0?(o(),c("div",se,[e("div",{class:"background-blur",ref_key:"update_background_element",ref:k},null,512),e("div",{class:"update-panel",ref_key:"update_panel_element",ref:h},[ae,oe,e("div",null,[(o(!0),c(y,null,L(a(s),(r,d)=>{var p;return o(),c("div",{key:r.book_short},[d<5?(o(),f(Q,{key:0,src:((p=r.book_summary)==null?void 0:p.srcUrl)||"",class:"update-book-list-entry","with-link":!1},null,8,["src"])):d==5?(o(),c("div",ne,[e("h4",null,J(a(s).length-5)+" more...",1)])):m("",!0)])}),128))]),e("div",le,[e("a",{class:"update-button",onClick:x,style:P({opacity:a(i)>0?.3:1})},"Later",4),e("a",{class:"update-button-blue",onClick:F},[a(i)>0?(o(),f(E,{key:0,radius:15,progress:a(i)*100,stroke:3,transform:"rotate(-90) translate(-24, 0)"},null,8,["progress","transform"])):(o(),c("span",re,"Update"))])])],512)])):m("",!0),e("div",ie,[e("div",ce,[e("img",{onClick:t[0]||(t[0]=r=>a(B)()),class:"ionicon title--left",src:T}),ue])]),e("div",de,[pe,_e,a(S)?(o(),f(a(M),{key:0,to:"/settings/help/console",class:"settings-option"},{default:O(()=>[me,fe]),_:1})):m("",!0),D?m("",!0):(o(),c("a",{key:1,class:"settings-option",onClick:t[1]||(t[1]=r=>U())},ke)),e("a",{class:"settings-option",onClick:t[2]||(t[2]=r=>A())},ye),e("a",{class:"settings-option",onClick:t[3]||(t[3]=r=>H())},be)])],2),q(X,{current_page:"settings"})],64))}});const xe=te(Ce,[["__scopeId","data-v-205d79a3"]]);export{xe as default};
