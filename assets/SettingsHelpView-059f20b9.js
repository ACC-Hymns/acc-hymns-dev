import{_ as P}from"./chevron-back-outline-3b18af6c.js";import{_ as z}from"./chevron-forward-outline-4fe420c1.js";import{S as _,_ as H}from"./index-4fe978ea.js";import{u as R}from"./navigator-f7d44f70.js";import{d as q,M as y,r as c,a9 as j,k as r,l as t,m as n,F as b,s as I,z as O,p as m,aa as W,q as u,a8 as Y,w as G,A as K,v as M,ab as Q,ac as J,ad as X,ae as Z,a7 as C,af as ee,ag as te,ah as ae,ai as se,x as o,aj as oe,t as ne,R as le,_ as re,G as ie}from"./index-055648d2.js";import{T as h}from"./index-6c8fe6c2.js";import{D as w}from"./index-fb1da0ab.js";const g="/acchymns-dev/assets/link-outline.svg",ce={key:0,class:"update-section"},ue={key:1,class:"update-book-list-entry more-update"},pe={class:"update-button-layout"},de={key:1},me={class:"menu"},ge={class:"title"},fe={class:"settings main-content"},ke=q({__name:"SettingsHelpView",setup(ve){const{back:B}=R(),f="Beta 3.0.6",S=f.includes("Beta")||f.includes("Alpha"),D=y.getPlatform()==="web";let s=c([]),i=c(0),k=c(),v=c();async function U(){(await w.confirm({title:"Clear Cache",message:"Are you sure you want to clear the cache?",okButtonTitle:"Yes",cancelButtonTitle:"No"})).value&&(Q(),h.show({text:"Cleared Cache!"}))}async function A(){let a=await J();for(let e of a)e.book_summary=await X(e.book_short);s.value=a}function F(){i.value>0||(k.value.style.opacity="0.0",v.value.style.opacity="0.0",s.value=[])}async function x(){if(!(i.value>0)){var a=[s.value.length];for(let e=0;e<s.value.length;e++){let l=s.value[e];await Z(l,p=>{a[e]=p,i.value=a.reduce((d,E)=>d+E,0)/s.value.length},()=>{i.value=0,s.value=[]})}}}async function N(){(await w.confirm({title:"Clear All Data",message:"Are you sure you want to clear ALL your data? This includes bookmarks and imported books!",okButtonTitle:"Yes",cancelButtonTitle:"No"})).value&&(localStorage.clear(),C.remove({key:"bookSources"}),C.remove({key:"bookOrder"}),ee(),h.show({text:"Cleared All Data!"}))}const $=c(y.getPlatform()),L=j();async function T(){const{uri:a}=await te.writeFile({path:"logs.txt",data:L.logs,directory:ae.Cache,encoding:se.UTF8});await _.share({url:a})}const V=c(!1);return _.canShare().then(a=>V.value=a.value),(a,e)=>(o(),r(b,null,[t("div",{class:K({"modal-open":n(s).length>0})},[n(s).length>0?(o(),r("div",ce,[t("div",{class:"background-blur",ref_key:"update_background_element",ref:k},null,512),t("div",{class:"update-panel",ref_key:"update_panel_element",ref:v},[e[5]||(e[5]=t("h2",null,"Hymnal Updates",-1)),e[6]||(e[6]=t("p",null,"Updates found for:",-1)),t("div",null,[(o(!0),r(b,null,I(n(s),(l,p)=>{var d;return o(),r("div",{key:l.book_short},[p<5?(o(),m(oe,{key:0,src:((d=l.book_summary)==null?void 0:d.srcUrl)||"",class:"update-book-list-entry","with-link":!1},null,8,["src"])):p==5?(o(),r("div",ue,[t("h4",null,ne(n(s).length-5)+" more...",1)])):u("",!0)])}),128))]),t("div",pe,[t("a",{class:"update-button",onClick:F,style:O({opacity:n(i)>0?.3:1})},"Later",4),t("a",{class:"update-button-blue",onClick:x},[n(i)>0?(o(),m(W,{key:0,radius:15,progress:n(i)*100,stroke:3,transform:"rotate(-90) translate(-24, 0)"},null,8,["progress"])):(o(),r("span",de,"Update"))])])],512)])):u("",!0),t("div",me,[t("div",ge,[t("img",{onClick:e[0]||(e[0]=l=>n(B)()),class:"ionicon title--left",src:P}),e[7]||(e[7]=t("div",{class:"title--center"},[t("h1",null,"Help")],-1))])]),t("div",fe,[e[13]||(e[13]=Y('<a href="https://forms.gle/1t7rtUkNaksEUtPEA" class="settings-option" data-v-742c873b><span data-v-742c873b>Request a Book or Feature</span><img class="ionicon" src="'+g+'" data-v-742c873b></a><a href="https://forms.gle/Ezh7d8LFsN5eKdo87" class="settings-option" data-v-742c873b><span data-v-742c873b>Report a Bug</span><img class="ionicon" src="'+g+'" data-v-742c873b></a><a href="https://docs.google.com/document/d/1zWztUrFOr_6ksqDDm4EbQ0jk7trwofaVeeSybcD5PcA" class="settings-option" data-v-742c873b><span data-v-742c873b>Privacy Policy</span><img class="ionicon" src="'+g+'" data-v-742c873b></a>',3)),n(S)?(o(),m(n(le),{key:0,to:"/settings/help/console",class:"settings-option"},{default:G(()=>e[8]||(e[8]=[t("span",null,"Debug Console",-1),t("img",{class:"entrypoint ionicon",src:z},null,-1)])),_:1})):u("",!0),$.value!=="web"?(o(),r("a",{key:1,class:"settings-option",onClick:e[1]||(e[1]=l=>T())},e[9]||(e[9]=[t("span",null,"Export Logs",-1),t("img",{class:"entrypoint ionicon",src:H},null,-1)]))):u("",!0),D?u("",!0):(o(),r("a",{key:2,class:"settings-option",onClick:e[2]||(e[2]=l=>A())},e[10]||(e[10]=[t("span",null,"Force Update Hymnals",-1)]))),t("a",{class:"settings-option",onClick:e[3]||(e[3]=l=>U())},e[11]||(e[11]=[t("span",null,"Clear Cache",-1)])),t("a",{class:"settings-option",onClick:e[4]||(e[4]=l=>N())},e[12]||(e[12]=[t("span",null,"Clear All Data",-1)]))])],2),M(re,{current_page:"settings"})],64))}});const Se=ie(ke,[["__scopeId","data-v-742c873b"]]);export{Se as default};
