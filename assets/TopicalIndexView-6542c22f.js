import{d as E,u as L,r as n,B as N,o as R,g as j,b as z,C as K,c as d,e,f as t,p as w,t as g,j as S,F as b,k as I,l as y,w as h,m as c,D as q,E as G,h as H,R as k,q as J,s as P,v as Q,x as U,y as W,z as X,A as Y}from"./index-6be75b49.js";import{_ as Z}from"./chevron-back-outline-3b18af6c.js";const o=v=>(J("data-v-ecbe4f8e"),v=v(),P(),v),ee={class:"menu"},te={class:"title"},se=o(()=>e("h1",{class:"title--center"},"Topical Index",-1)),oe={class:"main-content"},ae={class:"topic-title"},ne={class:"song__title"},le={class:"booktext--right"},ie={class:"song__number"},ce={class:"topic-list"},_e=["onClick"],re={class:"topic-title"},ue={class:"nav"},de=o(()=>e("img",{class:"ionicon nav__icon--active",src:Q},null,-1)),ve=o(()=>e("span",{class:"nav__text"},"Home",-1)),pe=o(()=>e("img",{class:"ionicon nav__icon",src:U},null,-1)),me=o(()=>e("span",{class:"nav__text"},"Search",-1)),he=o(()=>e("img",{class:"ionicon nav__icon",src:W},null,-1)),ke=o(()=>e("span",{class:"nav__text"},"Bookmarks",-1)),fe=o(()=>e("img",{class:"ionicon nav__icon",src:X},null,-1)),ge=o(()=>e("span",{class:"nav__text"},"Settings",-1)),be=E({__name:"TopicalIndexView",props:{book:{}},setup(v){const _=v,$=L(),l=n(!0),A=n(null);let F=n(0),T=n(""),f=n("#FFFFFF"),B=n("#000000"),r=n({}),u=n("");const D=N(()=>u.value in r.value?r.value[u.value]:[]);R(async()=>{const a=await j(),p=await z(_.book);F.value=a[_.book].numOfSongs,T.value=a[_.book].name.short,f.value=a[_.book].primaryColor,B.value=a[_.book].secondaryColor;const s=await K(a[_.book].name.short)??{};for(let[i,C]of Object.entries(s)){r.value[i]=[];for(let m of C)r.value[i].push({number:m,title:p[m].title,notes:p[m].notes});r.value[i].sort((m,M)=>m.title.replace(/[.,/#!$%^&*;:{}=\-_'"`~()]/g,"").localeCompare(M.title.replace(/[.,/#!$%^&*;:{}=\-_'"`~()]/g,"")))}});function O(a){l.value?(l.value=!1,u.value=a,setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},10)):x()}function x(){l.value=!0,u.value="",setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},10)}function V(){l.value?$.back():x()}return(a,p)=>(c(),d(b,null,[e("div",ee,[e("div",te,[e("img",{onClick:p[0]||(p[0]=s=>V()),class:"ionicon title--left",src:Z}),se])]),e("div",oe,[e("div",null,[e("div",{ref_key:"scroll_topic_list",ref:A},[l.value?S("",!0):(c(),d("div",{key:t(u),class:"topic",style:w({background:t(f)}),onClick:x},[e("h3",ae,g(t(u)),1)],4))],512),(c(!0),d(b,null,I(D.value,s=>q((c(),H(t(k),{key:s.title+s.number,to:`/display/${t(T)}/${s.number}`,class:"song topic-song",style:w(`background: linear-gradient(135deg, ${t(f)}, ${t(B)})`)},{default:h(()=>[e("div",null,[e("div",ne,g(s.title),1)]),e("div",le,[e("div",ie,"#"+g(s.number),1)])]),_:2},1032,["to","style"])),[[G,!l.value]])),128))]),e("div",ce,[(c(!0),d(b,null,I(t(r),(s,i)=>(c(),d(b,{key:i},[l.value?(c(),d("div",{key:0,class:"topic expanded-topic",style:w({background:t(f)}),onClick:C=>O(i)},[e("h3",re,g(i),1)],12,_e)):S("",!0)],64))),128))])]),e("nav",ue,[y(t(k),{to:"/",class:"nav__link nav__link--active"},{default:h(()=>[de,ve]),_:1}),y(t(k),{to:"/search",class:"nav__link"},{default:h(()=>[pe,me]),_:1}),y(t(k),{to:"/bookmarks",class:"nav__link"},{default:h(()=>[he,ke]),_:1}),y(t(k),{to:"/settings",class:"nav__link"},{default:h(()=>[fe,ge]),_:1})])],64))}});const we=Y(be,[["__scopeId","data-v-ecbe4f8e"]]);export{we as default};
