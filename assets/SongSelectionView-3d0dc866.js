import{_ as E}from"./chevron-back-outline-3b18af6c.js";import{_ as T}from"./wifi_off-0a29b492.js";import{d as j,u as F,a as q,o as H,r,b as K,c as U,g as J,e as Q,h as W,f as X,i as Y,n as Z,j as ee,k as u,l as s,m as a,t as g,p as S,w,q as se,F as m,s as x,v as oe,x as n,R as C,y as R,z as V,A as $,_ as te,B as ae,C as ne,D as le,E as ie,G as ce,H as re,I as ue}from"./index-83306a13.js";const _e="/acchymns-dev/assets/book-outline.svg",D=d=>(ce("data-v-e5c9f0ec"),d=d(),re(),d),de={class:"menu"},ve={class:"title"},pe={class:"title--left"},fe={class:"title--center"},ge={class:"title--right"},me=D(()=>s("img",{class:"ionicon",src:_e},null,-1)),he={key:0,class:"fallback-container"},ke=D(()=>s("img",{class:"wifi-fallback",src:T},null,-1)),be=[ke],ye={key:1,class:"songs main-content"},Se={key:0,class:"song-button-container"},we=["onClick"],xe={class:"song-title"},Ce=j({__name:"SongSelectionView",props:{book:{}},setup(d){const i=d,N=F(),h=q();H((t,o)=>{ae(o.fullPath),t.fullPath.includes("/display")||(ne(o.fullPath),le(o.fullPath))});const k=r(!1),p=r([]);let P=r(""),O=r(!1),b=r("#000000"),f=r([]),l=r([]),G=r(),I=K("ACCOptions.songGroupEnabled",!0);U(async()=>{var A;const t=await J(),o=await Q(i.book);if(o==null){await W(i.book),k.value=!0;return}p.value=Object.keys(o).sort((c,y)=>c.localeCompare(y,"en",{numeric:!0}));let e=p.value.length,v=Math.ceil(e/100);for(let c=0;c<v;c++){const y=new RegExp(/[a-z]/,"i");(A=f.value)==null||A.push(p.value.filter(L=>{let B=L.replace(y,"");return c*100<Number(B)&&Number(B)<=(c+1)*100}))}P.value=t[i.book].name.medium,b.value=t[i.book].primaryColor,O.value=t[i.book].indexAvailable,X("isAlphabetical",!1).value=!1;let _=Y(h.fullPath);_!=null&&_.forEach(c=>{l.value.push(f.value[c])}),await Z(),ee(h.fullPath)});function M(t){l.value.includes(t)?l.value.splice(l.value.indexOf(t),1):l.value.push(t);let o=[];l.value.forEach(e=>{var v=f.value.indexOf(e);o.push(v)}),ie(h.fullPath,o)}function z(t,o){return t==o?t:`${t} - ${o}`}return(t,o)=>(n(),u(m,null,[s("div",de,[s("div",ve,[s("div",pe,[s("img",{onClick:o[0]||(o[0]=e=>a(N).back()),class:"ionicon",src:E})]),s("div",fe,[s("h1",null,g(k.value?"Unavailable":a(P)),1)]),s("div",ge,[s("div",null,[a(O)?(n(),S(a(C),{key:0,to:`/topical/${i.book}`},{default:w(()=>[me]),_:1},8,["to"])):se("",!0)])])])]),k.value?(n(),u("div",he,be)):(n(),u("div",ye,[a(I)?(n(!0),u(m,{key:1},x(a(f),(e,v)=>(n(),u("div",{key:v,class:"song-group-container",ref_for:!0,ref_key:"song_group_elements",ref:G},[s("div",null,[s("div",{class:"song-group-title-container",onClick:_=>M(e)},[s("div",xe,g(z(e[0],e[e.length-1])),1),s("img",{class:$(["ionicon nav__icon dropdown-icon",{"dropdown-icon-active":a(l).includes(e)}]),src:E},null,2)],8,we),s("div",{class:$(["wrapper",{"wrapper-active":a(l).includes(e)}])},[s("div",{class:$(["song-button-container",{"song-button-container-active":a(l).includes(e)}])},[(n(!0),u(m,null,x(e,_=>(n(),S(a(C),{key:_,to:`/display/${i.book}/${_}`,class:"song-btn",style:V({background:a(b)})},{default:w(()=>[R(g(_),1)]),_:2},1032,["to","style"]))),128))],2)],2)])]))),128)):(n(),u("div",Se,[(n(!0),u(m,null,x(p.value,e=>(n(),S(a(C),{key:e,to:`/display/${i.book}/${e}`,class:"song-btn",style:V({background:a(b)})},{default:w(()=>[R(g(e),1)]),_:2},1032,["to","style"]))),128))]))])),oe(te,{current_page:"home"})],64))}});const Ae=ue(Ce,[["__scopeId","data-v-e5c9f0ec"]]);export{Ae as default};
