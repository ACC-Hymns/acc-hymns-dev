import{_ as V}from"./chevron-back-outline-3b18af6c.js";import{_ as j}from"./wifi_off-0a29b492.js";import{d as F,u as H,a as K,o as q,r as u,b as J,c as U,g as Q,e as W,h as X,f as Y,i as Z,n as ee,j as se,k as d,l as e,m as t,t as h,p as C,w as v,q as te,F as k,s as $,v as b,x as n,R as p,y as D,z as N,A as P,B as oe,C as ae,D as ne,E as le,G as ie,H as ce,_ as _e,I as re,J as ue,K as de,L as ve}from"./index-6b6baf72.js";import"./index-97be243a.js";const pe="/acchymns-dev/assets/book-outline.svg",l=f=>(ie("data-v-9e77725f"),f=f(),ce(),f),fe={class:"menu"},ge={class:"title"},me={class:"title--left"},he={class:"title--center"},ke={class:"title--right"},be=l(()=>e("img",{class:"ionicon",src:pe},null,-1)),ye={key:0,class:"fallback-container"},Se=l(()=>e("img",{class:"wifi-fallback",src:j},null,-1)),xe=[Se],we={key:1,class:"songs main-content"},Ce={key:0,class:"song-button-container"},$e=["onClick"],Pe={class:"song-title"},Be={class:"nav"},Oe=l(()=>e("img",{class:"ionicon nav__icon--active",src:_e},null,-1)),Ae=l(()=>e("span",{class:"nav__text"},"Home",-1)),Ee=l(()=>e("img",{class:"ionicon nav__icon",src:re},null,-1)),Re=l(()=>e("span",{class:"nav__text"},"Search",-1)),Ve=l(()=>e("img",{class:"ionicon nav__icon",src:ue},null,-1)),De=l(()=>e("span",{class:"nav__text"},"Bookmarks",-1)),Ne=l(()=>e("img",{class:"ionicon nav__icon",src:de},null,-1)),Ge=l(()=>e("span",{class:"nav__text"},"Settings",-1)),Ie=F({__name:"SongSelectionView",props:{book:{}},setup(f){const _=f,G=H(),y=K();q((a,o)=>{oe(o.fullPath),a.fullPath.includes("/display")||(ae(o.fullPath),ne(o.fullPath))});const S=u(!1),g=u([]);let B=u(""),O=u(!1),x=u("#000000"),m=u([]),i=u([]),I=u(),L=J("ACCOptions.songGroupEnabled",!0);U(async()=>{var E;const a=await Q(),o=await W(_.book);if(o==null){await X(_.book),S.value=!0;return}g.value=Object.keys(o).sort((r,w)=>r.localeCompare(w,"en",{numeric:!0}));let s=g.value.length,c=Math.ceil(s/100);s%100==0&&(c+=1);for(let r=0;r<c;r++)(E=m.value)==null||E.push(g.value.filter(w=>{const T=new RegExp(/[a-z]/,"i");let R=w.replace(T,"");return Number(R)>=r*100&&Number(R)<(r+1)*100}));B.value=a[_.book].name.medium,x.value=a[_.book].primaryColor,O.value=a[_.book].indexAvailable,Y("isAlphabetical",!1).value=!1;let A=Z(y.fullPath);A!=null&&A.forEach(r=>{i.value.push(m.value[r])}),await ee(),se(y.fullPath)});function M(a){i.value.includes(a)?i.value.splice(i.value.indexOf(a),1):i.value.push(a);let o=[];i.value.forEach(s=>{var c=m.value.indexOf(s);o.push(c)}),le(y.fullPath,o)}function z(a,o){return a==o?a:`${a} - ${o}`}return(a,o)=>(n(),d(k,null,[e("div",fe,[e("div",ge,[e("div",me,[e("img",{onClick:o[0]||(o[0]=s=>t(G).back()),class:"ionicon",src:V})]),e("div",he,[e("h1",null,h(S.value?"Unavailable":t(B)),1)]),e("div",ke,[e("div",null,[t(O)?(n(),C(t(p),{key:0,to:`/topical/${_.book}`},{default:v(()=>[be]),_:1},8,["to"])):te("",!0)])])])]),S.value?(n(),d("div",ye,xe)):(n(),d("div",we,[t(L)?(n(!0),d(k,{key:1},$(t(m),s=>(n(),d("div",{class:"song-group-container",ref_for:!0,ref_key:"song_group_elements",ref:I},[e("div",null,[e("div",{class:"song-group-title-container",onClick:c=>M(s)},[e("div",Pe,h(z(s[0],s[s.length-1])),1),e("img",{class:P(["ionicon nav__icon dropdown-icon",{"dropdown-icon-active":t(i).includes(s)}]),src:V},null,2)],8,$e),e("div",{class:P(["wrapper",{"wrapper-active":t(i).includes(s)}])},[e("div",{class:P(["song-button-container",{"song-button-container-active":t(i).includes(s)}])},[(n(!0),d(k,null,$(s,c=>(n(),C(t(p),{key:c,to:`/display/${_.book}/${c}`,class:"song-btn",style:N({background:t(x)})},{default:v(()=>[D(h(c),1)]),_:2},1032,["to","style"]))),128))],2)],2)])],512))),256)):(n(),d("div",Ce,[(n(!0),d(k,null,$(g.value,s=>(n(),C(t(p),{key:s,to:`/display/${_.book}/${s}`,class:"song-btn",style:N({background:t(x)})},{default:v(()=>[D(h(s),1)]),_:2},1032,["to","style"]))),128))]))])),e("nav",Be,[b(t(p),{to:"/",class:"nav__link nav__link--active"},{default:v(()=>[Oe,Ae]),_:1}),b(t(p),{to:"/search",class:"nav__link"},{default:v(()=>[Ee,Re]),_:1}),b(t(p),{to:"/bookmarks",class:"nav__link"},{default:v(()=>[Ve,De]),_:1}),b(t(p),{to:"/settings",class:"nav__link"},{default:v(()=>[Ne,Ge]),_:1})])],64))}});const je=ve(Ie,[["__scopeId","data-v-9e77725f"]]);export{je as default};
